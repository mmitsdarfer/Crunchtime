The what (my original idea):
- A program that scrapes the scores of multiple sports games and gives the link to the closest score. If multiple with same score delta, closest to the end of game or highest in standings
- It refreshes the scores every [set time period] but when you click "It's a commercial!" it refreshes and takes you to the next game

known errors:
- games ended in SO have progress ended but timeRank is treated like they're ongoing
- when cookies don't exist they can only be created on home page & /preferences, but /preferences doesn't populate dropdowns
   until refreshing
- still get:
   "if((time[2].includes('OT')))
                  ^
   TypeError: Cannot read properties of undefined (reading 'includes') "
         I think this is when period or quarter is shown without "End of" (eg "3rd" on its own)
            Use NaN and length so if it's just 3rd (for example) vs 3:01 - 3rd I can differentiate (?)
- rapidly refreshing (before puppeteer can finish scraping) creates duplicates of all the game data
   - Maybe add some timeout like with getCookies() in server.js
- when some games have channel links and others don't the columns become misaligned
   - This pops up most when some games are ended
      - Just create empty object (div?) to keep spacing consistent

To do:
- Test for when MLB has > 1 postponed game
   - Did 1 postponed and 1 canceled, should be same
- Figure out nets for MLB and NBA
- Look into react (base on platform computing work?)
- Display standings (?)
- Show previous json data on webpage, scrape and update json, repeat (?)
   - So, in server if [league].json already exists write that with jsonHtml then scrape (?)
   - Maybe if I really can't get it to load dynamically
- Update readme
- See what happens when cookies don't yet exist
   - They can only be created in home page or with a delay in /preference
- (do if any new links show up) Add streaming/other online links for non-NHL sports
   - When Flyers are on national broadcasts replace NBCSP link
      - Think I did this
- Scrape each league from the home page so at least some data is ready for when that page opens?
   - Use preferences.json to just scrape top league? Or in order from most visited to least?
   - Have to make sure it's sequential because overlap messes up the data
- Add timer to auto refresh 
   - Run scrape in the background on its own and have refresh just implement those scraped values
      - Do I want to refresh the page (and in turn data) without clicking refresh?
 - Add team logos
 - (Evergreen) Document code and get rid of unneeded parts
- Check out bootstrap for cleaner UI (?)
   - At least change fonts
      - Make dropdown same as everything else?
   - Use platform computing notes for a guide
   - https://bootstrapshuffle.com/classes
- Sometimes NBA does have channels, so check for channel instead of a whole league either having them or not
   - Spring training mlb doesn't have channels but I think regular season will, so def need to implement this
- Make nested for loops consistent; most go i then j, so make them all do that (for readability and consistency)
- Host on netlify or simlar?
- Pie in the sky/longterm:   
   - Try to scrape ESPN for channel links so it actually goes to the game, not just to streamer landing page
      - Add option to automatically follow link to closest game (in new tab)
      - Add to switch to preferences
   - Combine multiple sports 
      - Would need diffs to be to scale because 3 pt football game != 3 goal hockey game
      - Or could show the 1st of each sport, then the 2nd, and so on
   - Split into separate files (?)
   - Some people preach against for loops so maybe try forEach, map, and/or filter
      - Idk if it's actually not great to use and this is a small dataset so probs not worth it

To do but this time it's specific:
1. Fix MLB
2. Figure out how to update scores when they load

WIWWO: 
3/8: Gonna wait until regular season to revisit MLB because only spring standings are by grapefruit/cactus leagues
      -> All standRanks are higher than number of teams
3/7: All the mlb games are in right place w/ postponed and canceled, so problem must be in finalSort/endedSort
   as of ~9pm allSorted works for time-diff-stand and diff-time-stand but not stand-x-x or x-stand-x
   -> 3/8: All combos working currently w/ allSorted but I've changed nothing
      -> probably just no ties while sorting
2/8: Wanna use how preferences.html is updated with zeros to show scores as they load. Might be tricky
since I can't use require
   -> This method might not be possible because idk how I'd trigger the update from the html
      -> Refresh button gets the scores but still has to wait
   -> What about updating a cookie after scrape is done and have html constantly checking for that cookie?
      -> Wouldn't want scores to be on cookie tho. Too much info and formatting concerns
      -> But if a scoresUpdated cookie exists, how would it get scores?


Using git:
1. Make changes to code
2. Commit
3. Branch -> merge
4. Compare and confirm merge/pull


[
  [
    {
      team1: 'Tigers',
      score1: '8',
      team2: 'Yankees',
      score2: '5',
      progress: 'ongoing',
      time: 'Bot 8th',
      network: '',
      link: '',
      diff: 3,
      avgStanding: 21.5,
      convertedTime: '17',
      timeRank: 0,
      diffRank: 2,
      standRank: 2
    }
  ],
  [
    {
      team1: 'Cubs',
      score1: '2',
      team2: 'Reds',
      score2: '2',
      progress: 'ongoing',
      time: 'Bot 4th',
      network: '',
      link: '',
      diff: 0,
      avgStanding: 6.5,
      convertedTime: '9',
      timeRank: 1,
      diffRank: 1,
      standRank: 1
    }
  ],
  [
    {
      team1: 'Dodgers',
      score1: '0',
      team2: 'Giants',
      score2: '0',
      progress: 'ongoing',
      time: 'Bot 1st',
      network: '',
      link: '',
      diff: 0,
      avgStanding: 5.5,
      convertedTime: '3',
      timeRank: 2,
      diffRank: 1,
      standRank: 0
    }
  ],
  [
    {
      team1: 'Guardians',
      score1: '-',
      team2: 'Athletics',
      score2: '-',
      progress: 'unstarted',
      time: 'Postponed',
      network: '',
      link: '',
      diff: 100,
      avgStanding: 9,
      convertedTime: '11:59 PM',
      timeRank: 12,
      diffRank: 3,
      standRank: 4
    },
    {
      team1: 'Royals',
      score1: '-',
      team2: 'Rockies',
      score2: '-',
      progress: 'unstarted',
      time: 'Canceled',
      network: '',
      link: '',
      diff: 100,
      avgStanding: 2,
      convertedTime: '11:59 PM',
      timeRank: 12,
      diffRank: 3,
      standRank: 3
    }
  ],
  [
    {
      team1: 'Braves',
      score1: '3',
      team2: 'Red Sox',
      score2: '2',
      progress: 'ended',
      time: 'Final',
      network: '',
      link: '',
      diff: 1,
      avgStanding: 18,
      convertedTime: 'Final',
      timeRank: 13,
      diffRank: 6,
      standRank: 19
    },
    {
      team1: 'Phillies',
      score1: '2',
      team2: 'Rays',
      score2: '3',
      progress: 'ended',
      time: 'Final',
      network: '',
      link: '',
      diff: 1,
      avgStanding: 26.5,
      convertedTime: 'Final',
      timeRank: 13,
      diffRank: 6,
      standRank: 23
    },
    {
      team1: 'Blue Jays',
      score1: '5',
      team2: 'Tigers',
      score2: '4',
      progress: 'ended',
      time: 'Final',
      network: '',
      link: '',
      diff: 1,
      avgStanding: 24.5,
      convertedTime: 'Final',
      timeRank: 13,
      diffRank: 6,
      standRank: 22
    }
  ],
  [
    {
      team1: 'Diamondbacks',
      score1: '5',
      team2: 'Rangers',
      score2: '7',
      progress: 'ended',
      time: 'Final',
      network: '',
      link: '',
      diff: 2,
      avgStanding: 5.5,
      convertedTime: 'Final',
      timeRank: 13,
      diffRank: 8,
      standRank: 16
    },
    {
      team1: 'Nationals',
      score1: '1',
      team2: 'Mets',
      score2: '3',
      progress: 'ended',
      time: 'Final',
      network: '',
      link: '',
      diff: 2,
      avgStanding: 18.5,
      convertedTime: 'Final',
      timeRank: 13,
      diffRank: 8,
      standRank: 20
    }
  ],
  [
    {
      team1: 'Astros',
      score1: '6',
      team2: 'Cardinals',
      score2: '3',
      progress: 'ended',
      time: 'Final',
      network: '',
      link: '',
      diff: 3,
      avgStanding: 22,
      convertedTime: 'Final',
      timeRank: 13,
      diffRank: 9,
      standRank: 21
    }
  ],
  [
    {
      team1: 'Angels',
      score1: '0',
      team2: 'Mariners',
      score2: '5',
      progress: 'ended',
      time: 'Final',
      network: '',
      link: '',
      diff: 5,
      avgStanding: 9,
      convertedTime: 'Final',
      timeRank: 13,
      diffRank: 10,
      standRank: 17
    }
  ],
  [
    {
      team1: 'Brewers',
      score1: '8',
      team2: 'White Sox',
      score2: '2',
      progress: 'ended',
      time: 'Final',
      network: '',
      link: '',
      diff: 6,
      avgStanding: 11,
      convertedTime: 'Final',
      timeRank: 13,
      diffRank: 11,
      standRank: 18
    }
  ]
]